# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'pyqt_gui.ui'
#
# Created by: PyQt5 UI code generator 5.15.10
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import game.logic as lg


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(360, 450)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(MainWindow.sizePolicy().hasHeightForWidth())
        MainWindow.setSizePolicy(sizePolicy)
        MainWindow.setMinimumSize(QtCore.QSize(360, 450))
        MainWindow.setMaximumSize(QtCore.QSize(360, 450))
        MainWindow.setWindowOpacity(1.0)
        MainWindow.setAutoFillBackground(False)
        self.main_frame = QtWidgets.QWidget(MainWindow)
        self.main_frame.setObjectName("main_frame")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.main_frame)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName("verticalLayout")
        self.top_frame = QtWidgets.QWidget(self.main_frame)
        self.top_frame.setMaximumSize(QtCore.QSize(16777215, 16777215))
        self.top_frame.setObjectName("top_frame")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.top_frame)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        spacerItem = QtWidgets.QSpacerItem(20, 10, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Fixed)
        self.verticalLayout_2.addItem(spacerItem)
        self.prog_name = QtWidgets.QLabel(self.top_frame)
        self.prog_name.setMaximumSize(QtCore.QSize(16777215, 25))
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        font.setPointSize(25)
        font.setBold(True)
        font.setWeight(75)
        self.prog_name.setFont(font)
        self.prog_name.setAlignment(QtCore.Qt.AlignCenter)
        self.prog_name.setObjectName("prog_name")
        self.verticalLayout_2.addWidget(self.prog_name)
        self.roll_num = QtWidgets.QLabel(self.top_frame)
        self.roll_num.setMinimumSize(QtCore.QSize(6, 0))
        self.roll_num.setMaximumSize(QtCore.QSize(16777215, 81))
        font = QtGui.QFont()
        font.setFamily("Pixel Font7")
        font.setPointSize(80)
        self.roll_num.setFont(font)
        self.roll_num.setAlignment(QtCore.Qt.AlignCenter)
        self.roll_num.setObjectName("roll_num")
        self.verticalLayout_2.addWidget(self.roll_num)
        self.rolls_left_frame = QtWidgets.QWidget(self.top_frame)
        self.rolls_left_frame.setObjectName("rolls_left_frame")
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout(self.rolls_left_frame)
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")
        self.rolls_left_txt = QtWidgets.QLabel(self.rolls_left_frame)
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        self.rolls_left_txt.setFont(font)
        self.rolls_left_txt.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.rolls_left_txt.setObjectName("rolls_left_txt")
        self.horizontalLayout_3.addWidget(self.rolls_left_txt)
        self.rolls_left_2 = QtWidgets.QLabel(self.rolls_left_frame)
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        font.setBold(True)
        font.setWeight(75)
        self.rolls_left_2.setFont(font)
        self.rolls_left_2.setObjectName("rolls_left_2")
        self.horizontalLayout_3.addWidget(self.rolls_left_2)
        self.verticalLayout_2.addWidget(self.rolls_left_frame)
        self.verticalLayout.addWidget(self.top_frame)
        self.btn_frame = QtWidgets.QWidget(self.main_frame)
        self.btn_frame.setMinimumSize(QtCore.QSize(0, 15))
        self.btn_frame.setMaximumSize(QtCore.QSize(16777215, 35))
        self.btn_frame.setObjectName("btn_frame")
        self.horizontalLayout = QtWidgets.QHBoxLayout(self.btn_frame)
        self.horizontalLayout.setContentsMargins(95, 0, 95, 0)
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.roll_btn = QtWidgets.QPushButton(self.btn_frame)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Maximum)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.roll_btn.sizePolicy().hasHeightForWidth())
        self.roll_btn.setSizePolicy(sizePolicy)
        self.roll_btn.setMaximumSize(QtCore.QSize(80, 16777215))
        self.roll_btn.setObjectName("roll_btn")
        self.horizontalLayout.addWidget(self.roll_btn)
        self.stop_btn = QtWidgets.QPushButton(self.btn_frame)
        self.stop_btn.setMaximumSize(QtCore.QSize(80, 16777215))
        self.stop_btn.setObjectName("stop_btn")
        self.horizontalLayout.addWidget(self.stop_btn)
        self.verticalLayout.addWidget(self.btn_frame)
        self.score_label = QtWidgets.QLabel(self.main_frame)
        self.score_label.setMaximumSize(QtCore.QSize(16777215, 20))
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        font.setPointSize(18)
        font.setBold(True)
        font.setWeight(75)
        self.score_label.setFont(font)
        self.score_label.setAlignment(QtCore.Qt.AlignCenter)
        self.score_label.setObjectName("score_label")
        self.verticalLayout.addWidget(self.score_label)
        self.bottom_frame = QtWidgets.QWidget(self.main_frame)
        self.bottom_frame.setObjectName("bottom_frame")
        self.score_title_frame = QtWidgets.QWidget(self.bottom_frame)
        self.score_title_frame.setGeometry(QtCore.QRect(0, 0, 360, 16))
        self.score_title_frame.setMaximumSize(QtCore.QSize(16777215, 20))
        self.score_title_frame.setObjectName("score_title_frame")
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout(self.score_title_frame)
        self.horizontalLayout_2.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.player_label = QtWidgets.QLabel(self.score_title_frame)
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        font.setBold(True)
        font.setWeight(75)
        self.player_label.setFont(font)
        self.player_label.setScaledContents(False)
        self.player_label.setAlignment(QtCore.Qt.AlignCenter)
        self.player_label.setObjectName("player_label")
        self.horizontalLayout_2.addWidget(self.player_label)
        self.ai_label = QtWidgets.QLabel(self.score_title_frame)
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        font.setBold(True)
        font.setWeight(75)
        self.ai_label.setFont(font)
        self.ai_label.setAlignment(QtCore.Qt.AlignCenter)
        self.ai_label.setIndent(-1)
        self.ai_label.setObjectName("ai_label")
        self.horizontalLayout_2.addWidget(self.ai_label)
        self.score_frame = QtWidgets.QWidget(self.bottom_frame)
        self.score_frame.setGeometry(QtCore.QRect(0, 26, 360, 16))
        self.score_frame.setMaximumSize(QtCore.QSize(16777215, 20))
        self.score_frame.setObjectName("score_frame")
        self.horizontalLayout_4 = QtWidgets.QHBoxLayout(self.score_frame)
        self.horizontalLayout_4.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout_4.setSpacing(0)
        self.horizontalLayout_4.setObjectName("horizontalLayout_4")
        self.player_score = QtWidgets.QLabel(self.score_frame)
        self.player_score.setMaximumSize(QtCore.QSize(16777215, 20))
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        self.player_score.setFont(font)
        self.player_score.setAlignment(QtCore.Qt.AlignCenter)
        self.player_score.setObjectName("player_score")
        self.horizontalLayout_4.addWidget(self.player_score)
        self.ai_score = QtWidgets.QLabel(self.score_frame)
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        self.ai_score.setFont(font)
        self.ai_score.setAlignment(QtCore.Qt.AlignCenter)
        self.ai_score.setObjectName("ai_score")
        self.horizontalLayout_4.addWidget(self.ai_score)
        self.ng_btn_frame = QtWidgets.QWidget(self.bottom_frame)
        self.ng_btn_frame.setGeometry(QtCore.QRect(0, 60, 361, 44))
        self.ng_btn_frame.setObjectName("ng_btn_frame")
        self.verticalLayout_3 = QtWidgets.QVBoxLayout(self.ng_btn_frame)
        self.verticalLayout_3.setContentsMargins(100, 0, 100, 0)
        self.verticalLayout_3.setObjectName("verticalLayout_3")
        self.new_game_btn = QtWidgets.QPushButton(self.ng_btn_frame)
        self.new_game_btn.setObjectName("new_game_btn")
        self.verticalLayout_3.addWidget(self.new_game_btn)
        self.bottom_txt_frame = QtWidgets.QWidget(self.bottom_frame)
        self.bottom_txt_frame.setGeometry(QtCore.QRect(0, 110, 361, 80))
        self.bottom_txt_frame.setMinimumSize(QtCore.QSize(0, 0))
        self.bottom_txt_frame.setObjectName("bottom_txt_frame")
        self.verticalLayout_4 = QtWidgets.QVBoxLayout(self.bottom_txt_frame)
        self.verticalLayout_4.setContentsMargins(0, 5, 0, 0)
        self.verticalLayout_4.setObjectName("verticalLayout_4")
        self.version_label = QtWidgets.QLabel(self.bottom_txt_frame)
        self.version_label.setMaximumSize(QtCore.QSize(16777215, 25))
        font = QtGui.QFont()
        font.setFamily("Montserrat")
        font.setPointSize(10)
        font.setBold(False)
        font.setWeight(50)
        self.version_label.setFont(font)
        self.version_label.setAlignment(QtCore.Qt.AlignCenter)
        self.version_label.setObjectName("version_label")
        self.verticalLayout_4.addWidget(self.version_label)
        self.verticalLayout.addWidget(self.bottom_frame)
        MainWindow.setCentralWidget(self.main_frame)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        
        self.addfunctions()

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "Drunk Dice v0.1"))
        self.prog_name.setText(_translate("MainWindow", "Drunk Dice"))
        self.roll_num.setText(_translate("MainWindow", "0"))
        self.rolls_left_txt.setText(_translate("MainWindow", "Rolls left:"))
        self.rolls_left_2.setText(_translate("MainWindow", "3"))
        self.roll_btn.setText(_translate("MainWindow", "Roll"))
        self.stop_btn.setText(_translate("MainWindow", "Stop"))
        self.score_label.setText(_translate("MainWindow", "Score"))
        self.player_label.setText(_translate("MainWindow", "Player"))
        self.ai_label.setText(_translate("MainWindow", "Ai"))
        self.player_score.setText(_translate("MainWindow", "0"))
        self.ai_score.setText(_translate("MainWindow", "0"))
        self.new_game_btn.setText(_translate("MainWindow", "New game"))
        self.version_label.setText(_translate("MainWindow", "Drunk Dice by bondxii ©2024"))

    
    
    def addfunctions(self):
        self.main_roll()
        self.new_game_btn.clicked.connect(lambda: self.restart_game())
            
    
    def restart_game(self):
        self.roll_btn.clicked.disconnect()
        self.main_roll()
    
    roll: int
        
        
    def main_roll(self):
        user_rolls = 3
        self.roll_btn.setEnabled(True)
        self.stop_btn.setEnabled(True)
        self.roll_num.setText('0')
        self.prog_name.setText('Drunk Dice')
        self.player_score.setText('0')
        self.ai_score.setText('0')
        self.roll_left(user_rolls)
    
        def update_roll():
            nonlocal user_rolls
            self.roll = lg.rolling()
            self.roll_num.setText(str(self.roll))
            if self.roll == 1:
                user_rolls = 0
                self.roll_left(0)
                self.roll_btn.setEnabled(False)
                self.stop_btn.setEnabled(False)
                self.prog_name.setText('Game Over!')
            else:
                if user_rolls < 1:
                    self.roll_btn.setEnabled(False)
                    self.stop_btn.setEnabled(False)
                    self.prog_name.setText('Game Over!')
                else:
                    user_rolls -= 1
                    self.roll_left(user_rolls)    
        def update_stop():
            self.roll_btn.setEnabled(False)
            self.stop_btn.setEnabled(False)
            self.player_score.setText(str(self.roll))
            ai_roll = lg.ai_rolling()
            self.ai_score.setText(str(ai_roll))
            if self.roll > ai_roll:
                self.prog_name.setText('You Win!')
            elif self.roll < ai_roll:
                self.prog_name.setText('You Lose!')
            else:
                self.prog_name.setText('Draw!')
            
    
        self.roll_btn.clicked.connect(update_roll)
        self.stop_btn.clicked.connect(update_stop)
                
                      
    def roll_left(self, rolls: int) -> None:
        self.rolls_left_2.setText(str(rolls))